<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>商城</title>
  <link rel="stylesheet" href="fonts/iconfont.css">
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <div class="page flex-v">
    <header class="header flex-h just-between align-center">
      <a href="#"><img src="img/back.png" alt="" class="v-m"></a>
      <h1>商城</h1>
      <a href="#"><img src="img/camera2.png" alt="" class="v-m"></a>
    </header>
    <section class="main hidden flex-v">
      <div class="tab bg-f line flex-h align-center">
        <a href="#" class="tab-item flex-1 fs-16 c-3">
          <i>全部频道</i>
          <span class="iconfont icon-xiangjiantou"></span>
        </a>
        <a href="#" class="tab-item flex-1 fs-16 c-3">
          <i>分类筛选</i>
          <span class="iconfont icon-xiangjiantou"></span>
        </a> 
        <a href="#" class="tab-item flex-1 fs-16 c-3">
          <i>最新上线</i>
          <span class="iconfont icon-xiangjiantou"></span>
        </a>
      </div>
      <div class="tab-down">
        <div class="type-wrapper flex flex-h"> 
          <ul class="type-list flex-1">
            <li class="active">
              <img src="img/type0.png" alt="" class="h-15 v-m">
              <i class="fs-14 c-6 v-m ml-5">全部频道</i>
            </li>
            <li>
              <img src="img/type1.png" alt="" class="h-15 v-m">
              <i class="fs-14 c-6 v-m ml-5">餐厅</i>
            </li>
            <li>
              <img src="img/type2.png" alt="" class="h-15 v-m">
              <i class="fs-14 c-6 v-m ml-5">玩乐</i>
            </li>
            <li>
              <img src="img/type3.png" alt="" class="h-15 v-m">
              <i class="fs-14 c-6 v-m ml-5">酒店</i>
            </li>
            <li>
              <img src="img/type4.png" alt="" class="h-15 v-m">
              <i class="fs-14 c-6 v-m ml-5">商超</i>
            </li>
            <li>
              <img src="img/type5.png" alt="" class="h-15 v-m">
              <i class="fs-14 c-6 v-m ml-5">景点</i>
            </li>
            <li>
              <img src="img/type6.png" alt="" class="h-15 v-m">
              <i class="fs-14 c-6 v-m ml-5">电子</i>
            </li>
            <li>
              <img src="img/type7.png" alt="" class="h-15 v-m">
              <i class="fs-14 c-6 v-m ml-5">医疗</i>
            </li>
            <li>
              <img src="img/type8.png" alt="" class="h-15 v-m">
              <i class="fs-14 c-6 v-m ml-5">学校</i>
            </li>
          </ul>  
          <ul class="type-sub-list flex-1 channel">
            <li class="line gray fs-14 c-6 active">全部</li>
            <li class="line gray fs-14 c-6">咖啡厅</li>
            <li class="line gray fs-14 c-6">火锅</li>
            <li class="line gray fs-14 c-6">西餐</li>
            <li class="line gray fs-14 c-6">其它</li>
            <li class="line gray fs-14 c-6">日本料理</li>
            <li class="line gray fs-14 c-6">酒吧</li>
            <li class="line gray fs-14 c-6">粤菜</li>
            <li class="line gray fs-14 c-6">自助餐</li>
          </ul>
        </div>
      </div>
      <div class="tab-down">
        <div class="type-wrapper flex-v">
          <div class="flex-1 auto pd-10">
            <p><img src="img/type9.png" alt="" class="h-15 v-m"><i class="fs-14 c-6 ml-5 v-m">服务及优惠</i></p>
            <ul class="select-list">
              <li class="active"><i>不限</i></li>
              <li><i>预定</i></li>
              <li><i>促销</i></li>
              <li><i>套餐</i></li>
              <li><i>优惠买单</i></li>
              <li><i>会员权益</i></li>
            </ul>
            <p><img src="img/type10.png" alt="" class="h-15 v-m"><i class="fs-14 c-6 ml-5 v-m">价格</i></p>
            <ul class="select-list">
              <li class="active"><i>不限</i></li>
              <li><i>100以下</i></li>
              <li><i>100-200</i></li>
              <li><i>200-300</i></li>
              <li><i>300-500</i></li>
              <li><i>500以上</i></li>
            </ul>
            <p><img src="img/type11.png" alt="" class="h-15 v-m"><i class="fs-14 c-6 ml-5 v-m">商圈</i></p>
            <ul class="select-list">
              <li class="active"><i>全部</i></li>
              <li><i>光谷/鲁巷</i></li>
              <li><i>武汉广场武汉广场武汉广场</i></li>
              <li><i>楚河汉街</i></li>
              <li><i>徐东大街</i></li>
            </ul>
          </div>
          <div class="flex flex-h">
            <a href="#" class="flex-1 fs-16 c-3 bg-f reset pd-10 t-c">重置</a>
            <a href="#" class="flex-1 fs-16 c-f bg-blue sure pd-10 t-c">确定</a>
          </div>
        </div>
      </div>
      <div class="tab-down">
        <ul class="type-wrapper type-sub-list rank" style="height:auto;">
          <li class="line gray fs-14 c-6 active"><i class="iconfont c-9 icon-icon3 mr-5"></i><span>综合排序</span></li>
          <li class="line gray fs-14 c-6"><i class="iconfont c-9 icon-icon1 mr-5"></i><span>离我最近</span></li>
          <li class="line gray fs-14 c-6"><i class="iconfont c-9 icon-icon2 mr-5"></i><span>最新上线</span></li>
          <li class="line gray fs-14 c-6"><i class="iconfont c-9 icon-icon mr-5"></i><span>人气最高</span></li>
          <li class="line gray fs-14 c-6"><i class="iconfont c-9 icon-icon4 mr-5"></i><span>价格最低</span></li>
          <li class="line gray fs-14 c-6"><i class="iconfont c-9 icon-icon5 mr-5"></i><span>价格最高</span></li>
        </ul>
      </div>
      <div class="flex-1 auto">
        <p>1</p><p>1</p><p>1</p><p>1</p><p>1</p><p>1</p><p>1</p><p>1</p><p>1</p>
      </div>
    </section>
    <footer class="footer flex-h line-top">
      <a href="index.html" class="flex-1 flex-v just-center align-center">
        <svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhuye"></use></svg>
        <i>首页</i>
      </a>
      <a href="群组.html" class="flex-1 flex-v just-center align-center">
        <svg class="icon" aria-hidden="true"><use xlink:href="#icon-qunzu"></use></svg>
        <i>群组</i>
      </a>
      <a href="商城.html" class="flex-1 flex-v just-center align-center active">
        <svg class="icon" aria-hidden="true"><use xlink:href="#icon-sousuo"></use></svg>
        <i>商城</i>
      </a>
      <a href="我的.html" class="flex-1 flex-v just-center align-center">
        <svg class="icon" aria-hidden="true"><use xlink:href="#icon-yonghu"></use></svg>
        <i>我的</i>
      </a>
    </footer>
  </div>
  <script src="fonts/iconfont.js"></script>
  <script src="js/zepto.min.js"></script>
  <script>
    $(function(){
      $('.footer a').click(function(){
        $(this).addClass('active').siblings().removeClass('active')
      })
      $('.tab-item').each(function(idx,el){
        $(this).click(function(){
          $(this).toggleClass('active')
          $('.tab-down').eq(idx).toggle()
          
          if($(this).hasClass('active')){
            $(this).siblings().removeClass('active')
          }

          if($('.tab-down').eq(idx).css('display') !== 'none'){
            $('.tab-down').eq(idx).siblings('.tab-down').hide()
          }
        })
      })
      //频道
      $('.type-list li').click(function(){
        $(this).addClass('active').siblings().removeClass('active')
      })
      $('.type-sub-list li').click(function(){
        $(this).addClass('active').siblings().removeClass('active')
        $(this).parents('.tab-down').hide()
        $(this).parents('.tab-down').siblings('.tab').find('a').removeClass('active')
      })
      $('.type-sub-list.channel li').click(function(){
        $('.tab-item').eq(0).find('i').html($(this).html())
      })
      // 排序
      $('.type-sub-list.rank li').click(function(){
        $('.tab-item').eq(2).find('i').html($(this).find('span').html())
      })
      //分类筛选
      $('.select-list li').click(function(){
        $(this).addClass('active').siblings().removeClass('active') 
      })
      $('.sure').click(function(){
        $(this).parents('.tab-down').hide()
        $(this).parents('.tab-down').siblings('.tab').find('a').removeClass('active')
        var str = ''
        $('.select-list').find('.active').each(function(idx,el){
          str += $(el).find('i').html() + '/'
        })
        console.log(str)
        $('.tab-item').eq(1).find('i').html(str)
      })
    })
  </script>
</body>
</html>